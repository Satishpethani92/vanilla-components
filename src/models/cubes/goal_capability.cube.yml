cubes:
  - name: goal_capabilities
    title: Goal Capabilities
    sql_alias: goc
    data_source: my-db
    sql: >
      SELECT *
      FROM csdb.goal_capabilities

    dimensions:
      - name: goc_id
        sql: goc_id
        type: number
        primary_key: true
        title: 'Goal Capability ID'

      - name: gol_id
        sql: gol_id
        type: number
        title: 'Goal ID'

      - name: cap_id
        sql: cap_id
        type: number
        title: 'Capability ID'

      - name: create_time
        sql: create_time
        type: time
        title: 'Create Time'

      - name: update_time
        sql: update_time
        type: time
        title: 'Update Time'

      - name: create_user_id
        sql: create_user_id
        type: number
        title: 'Created By User ID'

      - name: update_user_id
        sql: update_user_id
        type: number
        title: 'Updated By User ID'

      - name: approve_status
        sql: approve_status
        type: boolean
        title: 'Approve Status'

    measures:
      - name: count
        type: count
        title: '# of Goal Capabilities'

    joins:
      - name: capability
        sql: '{CUBE}.cap_id = {capability}.cap_id'
        relationship: many_to_one

      - name: goals
        sql: '{CUBE}.gol_id = {goals}.gol_id'
        relationship: many_to_one
